/* GLOBAL */
* { margin:0; padding:0; box-sizing:border-box; }
body { background:#0b0b0c; color:white; font-family:"Georgia", serif; overflow:hidden; height:100vh; }

/* MAIN CONTAINER */
#main-container { position:relative; width:100vw; height:100vh; overflow:hidden; }

/* SHIVA BACKGROUND */
#shiva-bg { position:absolute; inset:0; background:url("assets/shiva.png") center/contain no-repeat; opacity:0.22; animation:shivaGlow 6s ease-in-out infinite alternate; z-index:1; pointer-events:none; }
@keyframes shivaGlow { 0%{filter:drop-shadow(0 0 4px #005eff);} 100%{filter:drop-shadow(0 0 18px #48b0ff);} }

/* FIREWORKS */
#fireworks { position:absolute; inset:0; z-index:2; pointer-events:none; }

/* PARTICLES */
#particles-layer { position:absolute; inset:0; pointer-events:none; z-index:3; overflow:hidden; }
.petal { position:absolute; width:28px; height:28px; background:url("assets/petal.png") center/cover no-repeat; animation:fall linear infinite; opacity:0.85; }
.balloon { position:absolute; width:36px; height:58px; background:url("assets/balloon.png") center/cover no-repeat; animation:floatUp linear infinite; }
@keyframes fall { 0%{transform:translateY(-10vh) rotate(0deg);} 100%{transform:translateY(120vh) rotate(200deg);} }
@keyframes floatUp { 0%{transform:translateY(110vh) translateX(0);} 100%{transform:translateY(-20vh) translateX(20px);} }

/* DORAEMON */
#doraemon-layer { position:absolute; inset:0; z-index:4; pointer-events:none; }
.dora-sprite { position:absolute; width:55px; height:55px; background:url("assets/dora.png") center/contain no-repeat; animation:doraFloat 4s ease-in-out infinite alternate; }
@keyframes doraFloat { 0%{transform:translateY(0px);} 100%{transform:translateY(-24px);} }

/* GIFT BOX */
.gift-center { position:absolute; left:50%; bottom:9%; transform:translateX(-50%); z-index:20; display:flex; justify-content:center; align-items:center; pointer-events:auto; }
#gift-box { width:200px; cursor:pointer; z-index:21; transition:transform 0.3s; }
#gift-box.open-animation { transform:rotateY(180deg) scale(1.1); }

/* LETTER */
#letter-popup { position:absolute; inset:0; display:flex; justify-content:center; align-items:center; z-index:10; }
.letter-container { transform:scale(0); opacity:0; transition:0.6s; }
.letter-paper { width:90vw; max-width:560px; padding:24px; background:url("assets/letter.png") center/cover no-repeat; color:#3d1f00; font-size:17px; border-radius:8px; box-shadow:0 0 18px rgba(255,235,168,0.6);}
.photo-center { display:flex; justify-content:center; margin-top:20px; }
.shared-photo { max-width:80%; border-radius:12px; box-shadow:0 0 16px rgba(255,255,255,0.4); animation:fadeIn 1.2s ease forwards; opacity:0; }
@keyframes fadeIn { to { opacity:1; } }
#letter-popup.show .letter-container { transform:scale(1); opacity:1; }
.letter-title { font-size:22px; font-weight:bold; margin-bottom:14px; }
.accent { color:#804000; }
.letter-body { line-height:1.55; margin-bottom:18px; }
.btn { padding:10px 16px; background:#5a3200; color:white; border:none; border-radius:6px; cursor:pointer; }
.btn:hover { background:#704000; }

/* VOICE */
#voice-wrapper { position:absolute; bottom:3%; right:3%; z-index:9; }

/* MOBILE */
@media(max-width:540px){ .letter-paper{font-size:15px;padding:18px;} #gift-box{width:160px;} }
